{"ast":null,"code":"import _slicedToArray from\"E:/React Projects/deski-design/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./Create_site.css\";import deski_ash from\"../assets/deski_ash.svg\";import{Pane,TextInput}from\"evergreen-ui\";import{useMediaQuery}from\"react-responsive\";import{useHistory}from\"react-router-dom\";import checkmark from\"../assets/checkmark.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Desktop=function Desktop(_ref){var children=_ref.children;var isDesktop=useMediaQuery({minWidth:951});return isDesktop?children:null;};var Tablet=function Tablet(_ref2){var children=_ref2.children;var isTablet=useMediaQuery({minWidth:768,maxWidth:950});return isTablet?children:null;};var Mobile=function Mobile(_ref3){var children=_ref3.children;var isMobile=useMediaQuery({maxWidth:767});return isMobile?children:null;};function Create_site(){var emaildata=JSON.stringify(localStorage.getItem('data'));var history=useHistory();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),incorrect=_React$useState2[0],SetIncorrect=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),correct=_React$useState4[0],SetCorrect=_React$useState4[1];var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var CheckUsername=function CheckUsername(props){var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/x-www-form-urlencoded\");var urlencoded=new URLSearchParams();urlencoded.append(\"username\",username);var checkuserRequest={method:'POST',headers:myHeaders,body:urlencoded,redirect:'follow'};fetch(\"http://18.116.203.74:6769/checkUsername\",checkuserRequest).then(function(response){if(response.ok){response.json().then(function(json){console.log(json.message);console.log(username);if(parseInt(json.message)===0){AddUsername();}else if(parseInt(json.message)===1){SetIncorrect(true);}});}}).catch(function(error){return console.log('error: ',error);});};var AddUsername=function AddUsername(props){var dt=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(dt+Math.random()*16)%16|0;dt=Math.floor(dt/16);return(c=='x'?r:r&0x3|0x8).toString(16);});if(username===\"\"||username.length>7){}else{var urlencoded=new URLSearchParams();urlencoded.append(\"firebaseUid\",uuid);urlencoded.append(\"userId\",\"\");urlencoded.append(\"username\",username);urlencoded.append(\"emailId\",emaildata);urlencoded.append(\"timeStamp\",new Date());var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/x-www-form-urlencoded\");var requestOptions={method:'POST',headers:myHeaders,body:urlencoded,redirect:'follow'};fetch(\"http://18.116.203.74:6769/addUsername\",requestOptions).then(function(response){if(response.ok){response.json().then(function(json){console.log(username);SetCorrect(true);setTimeout(function(){history.push(\"/setting_up\");},1000);});}}).catch(function(error){return console.log('error: ',error);});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Desktop,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"create_site\",children:/*#__PURE__*/_jsx(\"img\",{src:deski_ash,alt:\"\",className:\"create_site_logo\",height:\"80\",width:\"120\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"create_site\",children:/*#__PURE__*/_jsxs(Pane,{className:\"create_site_pane\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Let's get started\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Give your site a name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"choose\",children:\"Choose something familiar like your team and company\"}),/*#__PURE__*/_jsx(TextInput,{width:322,onChange:function onChange(e){return setUsername(e.target.value);},border:\"solid 1.5px #c5c5c5\",backgroundColor:\"#fafbfc\",className:\"create_site_inputfield\",placeholder:\"Your-site-name                                                                   .deski.app\"}),incorrect&&/*#__PURE__*/_jsx(\"p\",{className:\"invalid\",children:\"*The username already exists\"}),correct&&/*#__PURE__*/_jsxs(\"p\",{className:\"invalid_\",children:[\"* Username available \",/*#__PURE__*/_jsx(\"img\",{src:checkmark,alt:\"\",height:9})]}),/*#__PURE__*/_jsx(\"button\",{className:username===\"\"?\"create_site_button\":\"create_site_button_active\",onClick:function onClick(){CheckUsername(\"\");},children:\"Continue\"})]})})]}),/*#__PURE__*/_jsxs(Mobile,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"create_site\",children:/*#__PURE__*/_jsx(\"img\",{src:deski_ash,alt:\"\",className:\"create_site_logo\",height:\"80\",width:\"120\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"create_site\",children:/*#__PURE__*/_jsxs(Pane,{className:\"mob_create_site_pane\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Let's get started\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Give your site a name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"choose\",children:\"Choose something familiar like your team and company\"}),/*#__PURE__*/_jsx(TextInput,{onChange:function onChange(e){return setUsername(e.target.value);},width:220,borderColor:\"#c5c5c5\",backgroundColor:\"#fafbfc\",className:\"mob_create_site_inputfield\",placeholder:\"Your-site-name                               .deski.app\"}),incorrect&&/*#__PURE__*/_jsx(\"p\",{className:\"invalid\",children:\"*The username already exists\"}),correct&&/*#__PURE__*/_jsxs(\"p\",{className:\"invalid_\",children:[\"* Username available \",/*#__PURE__*/_jsx(\"img\",{src:checkmark,alt:\"\",height:9})]}),/*#__PURE__*/_jsx(\"button\",{className:correct?\"mob_create_site_button_active\":\"mob_create_site_button\",onClick:function onClick(){CheckUsername(\"\");},children:\"Continue\"})]})})]}),/*#__PURE__*/_jsxs(Tablet,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"create_site\",children:/*#__PURE__*/_jsx(\"img\",{src:deski_ash,alt:\"\",className:\"create_site_logo\",height:\"80\",width:\"120\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"create_site\",children:/*#__PURE__*/_jsxs(Pane,{className:\"create_site_pane\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Let's get started\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Give your site a name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"choose\",children:\"Choose something familiar like your team and company\"}),/*#__PURE__*/_jsx(TextInput,{onChange:function onChange(e){return setUsername(e.target.value);},width:322,borderColor:\"#c5c5c5\",backgroundColor:\"#fafbfc\",className:\"create_site_inputfield\",placeholder:\"Your-site-name                                                                   .deski.app\"}),incorrect&&/*#__PURE__*/_jsx(\"p\",{className:\"invalid\",children:\"*The username already exists\"}),correct&&/*#__PURE__*/_jsxs(\"p\",{className:\"invalid_\",children:[\"* Username available \",/*#__PURE__*/_jsx(\"img\",{src:checkmark,alt:\"\",height:9})]}),/*#__PURE__*/_jsx(\"button\",{className:correct?\"create_site_button_active\":\"create_site_button\",onClick:function onClick(){CheckUsername(\"\");},children:\"Continue\"})]})})]})]});}export default Create_site;","map":{"version":3,"sources":["E:/React Projects/deski-design/src/Authentication/Create_site.js"],"names":["React","useState","Pane","TextInput","useMediaQuery","useHistory","Desktop","children","isDesktop","minWidth","Tablet","isTablet","maxWidth","Mobile","isMobile","Create_site","emaildata","JSON","stringify","localStorage","getItem","history","incorrect","SetIncorrect","correct","SetCorrect","username","setUsername","CheckUsername","props","myHeaders","Headers","append","urlencoded","URLSearchParams","checkuserRequest","method","headers","body","redirect","fetch","then","response","ok","json","console","log","message","parseInt","AddUsername","catch","error","dt","Date","getTime","uuid","replace","c","r","Math","random","floor","toString","length","requestOptions","setTimeout","push","deski_ash","e","target","value","checkmark"],"mappings":"qJAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,KAA6B,OAA7B,CACA,MAAO,mBAAP,C,+CAEA,OAASC,IAAT,CAAeC,SAAf,KAAgC,cAAhC,CACA,OAASC,aAAT,KAA8B,kBAA9B,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,uIAGA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CAC9B,GAAMC,CAAAA,SAAS,CAAGJ,aAAa,CAAC,CAAEK,QAAQ,CAAE,GAAZ,CAAD,CAA/B,CACA,MAAOD,CAAAA,SAAS,CAAGD,QAAH,CAAc,IAA9B,CACH,CAHD,CAIA,GAAMG,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,OAAkB,IAAfH,CAAAA,QAAe,OAAfA,QAAe,CAC7B,GAAMI,CAAAA,QAAQ,CAAGP,aAAa,CAAC,CAAEK,QAAQ,CAAE,GAAZ,CAAiBG,QAAQ,CAAE,GAA3B,CAAD,CAA9B,CACA,MAAOD,CAAAA,QAAQ,CAAGJ,QAAH,CAAc,IAA7B,CACH,CAHD,CAIA,GAAMM,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,OAAkB,IAAfN,CAAAA,QAAe,OAAfA,QAAe,CAC7B,GAAMO,CAAAA,QAAQ,CAAGV,aAAa,CAAC,CAAEQ,QAAQ,CAAE,GAAZ,CAAD,CAA9B,CACA,MAAOE,CAAAA,QAAQ,CAAGP,QAAH,CAAc,IAA7B,CACH,CAHD,CAMA,QAASQ,CAAAA,WAAT,EAAuB,CAGnB,GAAMC,CAAAA,SAAS,CAAGC,IAAI,CAACC,SAAL,CAAeC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAf,CAAlB,CAEA,GAAIC,CAAAA,OAAO,CAAGhB,UAAU,EAAxB,CACA,oBAAkCL,KAAK,CAACC,QAAN,CAAe,KAAf,CAAlC,oDAAOqB,SAAP,qBAAkBC,YAAlB,qBACA,qBAA8BvB,KAAK,CAACC,QAAN,CAAe,KAAf,CAA9B,qDAAOuB,OAAP,qBAAgBC,UAAhB,qBAIA,cAAgCxB,QAAQ,CAAC,EAAD,CAAxC,wCAAOyB,QAAP,eAAiBC,WAAjB,eAMA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC7B,GAAIC,CAAAA,SAAS,CAAG,GAAIC,CAAAA,OAAJ,EAAhB,CACAD,SAAS,CAACE,MAAV,CAAiB,cAAjB,CAAiC,mCAAjC,EAEA,GAAIC,CAAAA,UAAU,CAAG,GAAIC,CAAAA,eAAJ,EAAjB,CACAD,UAAU,CAACD,MAAX,CAAkB,UAAlB,CAA8BN,QAA9B,EAGA,GAAIS,CAAAA,gBAAgB,CAAG,CACrBC,MAAM,CAAE,MADa,CAErBC,OAAO,CAAEP,SAFY,CAGrBQ,IAAI,CAAEL,UAHe,CAIrBM,QAAQ,CAAE,QAJW,CAAvB,CAOAC,KAAK,CAAC,yCAAD,CAA4CL,gBAA5C,CAAL,CACDM,IADC,CACI,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACC,EAAb,CAAgB,CACdD,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAqB,SAAAG,IAAI,CAAI,CAC3BC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,OAAjB,EACAF,OAAO,CAACC,GAAR,CAAYpB,QAAZ,EAGC,GAAGsB,QAAQ,CAACJ,IAAI,CAACG,OAAN,CAAR,GAA2B,CAA9B,CAAiC,CAE7BE,WAAW,GAChB,CAHC,IAIM,IAAGD,QAAQ,CAACJ,IAAI,CAACG,OAAN,CAAR,GAA2B,CAA9B,CAAiC,CAEjCxB,YAAY,CAAC,IAAD,CAAZ,CAEF,CAEN,CAfD,EAgBD,CAGF,CAtBC,EAuBD2B,KAvBC,CAuBK,SAAAC,KAAK,QAAIN,CAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBK,KAAvB,CAAJ,EAvBV,EA0BP,CAzCG,CA4CA,GAAMF,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACpB,KAAD,CAAU,CAG1B,GAAIuB,CAAAA,EAAE,CAAG,GAAIC,CAAAA,IAAJ,GAAWC,OAAX,EAAT,CACA,GAAIC,CAAAA,IAAI,CAAG,uCAAuCC,OAAvC,CAA+C,OAA/C,CAAwD,SAASC,CAAT,CAAY,CAC3E,GAAIC,CAAAA,CAAC,CAAG,CAACN,EAAE,CAAGO,IAAI,CAACC,MAAL,GAAc,EAApB,EAAwB,EAAxB,CAA6B,CAArC,CACAR,EAAE,CAAGO,IAAI,CAACE,KAAL,CAAWT,EAAE,CAAC,EAAd,CAAL,CACA,MAAO,CAACK,CAAC,EAAE,GAAH,CAASC,CAAT,CAAaA,CAAC,CAAC,GAAF,CAAM,GAApB,EAA0BI,QAA1B,CAAmC,EAAnC,CAAP,CACH,CAJU,CAAX,CAOA,GAAIpC,QAAQ,GAAK,EAAb,EAAmBA,QAAQ,CAACqC,MAAT,CAAiB,CAAxC,CAA2C,CAGtC,CAHL,IAGW,CAEH,GAAI9B,CAAAA,UAAU,CAAG,GAAIC,CAAAA,eAAJ,EAAjB,CACAD,UAAU,CAACD,MAAX,CAAkB,aAAlB,CAAiCuB,IAAjC,EACAtB,UAAU,CAACD,MAAX,CAAkB,QAAlB,CAA4B,EAA5B,EACAC,UAAU,CAACD,MAAX,CAAkB,UAAlB,CAA8BN,QAA9B,EACAO,UAAU,CAACD,MAAX,CAAkB,SAAlB,CAA6BhB,SAA7B,EACAiB,UAAU,CAACD,MAAX,CAAkB,WAAlB,CAA+B,GAAIqB,CAAAA,IAAJ,EAA/B,EAEA,GAAIvB,CAAAA,SAAS,CAAG,GAAIC,CAAAA,OAAJ,EAAhB,CACAD,SAAS,CAACE,MAAV,CAAiB,cAAjB,CAAiC,mCAAjC,EAGA,GAAIgC,CAAAA,cAAc,CAAG,CACnB5B,MAAM,CAAE,MADW,CAEnBC,OAAO,CAAEP,SAFU,CAGnBQ,IAAI,CAAEL,UAHa,CAInBM,QAAQ,CAAE,QAJS,CAArB,CASIC,KAAK,CAAC,uCAAD,CAA0CwB,cAA1C,CAAL,CACCvB,IADD,CACM,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACC,EAAb,CAAgB,CACdD,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAqB,SAAAG,IAAI,CAAI,CACzBC,OAAO,CAACC,GAAR,CAAYpB,QAAZ,EAIID,UAAU,CAAC,IAAD,CAAV,CAGAwC,UAAU,CAAC,UAAU,CAAC5C,OAAO,CAAC6C,IAAR,CAAa,aAAb,EAA4B,CAAxC,CAAyC,IAAzC,CAAV,CAGP,CAXD,EAYD,CACF,CAhBD,EAkBChB,KAlBD,CAkBO,SAAAC,KAAK,QAAIN,CAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBK,KAAvB,CAAJ,EAlBZ,EAqBH,CACJ,CA1DT,CA6DA,mBACI,oCACI,MAAC,OAAD,yBACI,YAAK,SAAS,CAAC,aAAf,uBACI,YAAK,GAAG,CAAEgB,SAAV,CAAqB,GAAG,CAAC,EAAzB,CAA4B,SAAS,CAAC,kBAAtC,CAAyD,MAAM,CAAC,IAAhE,CAAqE,KAAK,CAAC,KAA3E,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,aAAf,uBACI,MAAC,IAAD,EAAM,SAAS,CAAC,kBAAhB,wBACI,yCADJ,cAEI,6CAFJ,cAGI,UAAG,SAAS,CAAC,QAAb,kEAHJ,cAII,KAAC,SAAD,EACI,KAAK,CAAE,GADX,CAGI,QAAQ,CAAE,kBAACC,CAAD,QAAKzC,CAAAA,WAAW,CAACyC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,EAHd,CAII,MAAM,CAAC,qBAJX,CAKI,eAAe,CAAC,SALpB,CAMI,SAAS,CAAC,wBANd,CAOI,WAAW,CAAC,6FAPhB,EAJJ,CAaKhD,SAAS,eAAI,UAAG,SAAS,CAAC,SAAb,0CAblB,CAcKE,OAAO,eACJ,WAAG,SAAS,CAAC,UAAb,gDACyB,YAAK,GAAG,CAAE+C,SAAV,CAAqB,GAAG,CAAC,EAAzB,CAA4B,MAAM,CAAE,CAApC,EADzB,GAfR,cAmBI,eACI,SAAS,CAAG7C,QAAQ,GAAK,EAAd,CAAoB,oBAApB,CAA2C,2BAD1D,CAEI,OAAO,CAAE,kBAAM,CACXE,aAAa,CAAC,EAAD,CAAb,CACH,CAJL,sBAnBJ,GADJ,EAJJ,GADJ,cAoCI,MAAC,MAAD,yBACI,YAAK,SAAS,CAAC,aAAf,uBACI,YAAK,GAAG,CAAEuC,SAAV,CAAqB,GAAG,CAAC,EAAzB,CAA4B,SAAS,CAAC,kBAAtC,CAAyD,MAAM,CAAC,IAAhE,CAAqE,KAAK,CAAC,KAA3E,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,aAAf,uBACI,MAAC,IAAD,EAAM,SAAS,CAAC,sBAAhB,wBACI,yCADJ,cAEI,6CAFJ,cAGI,UAAG,SAAS,CAAC,QAAb,kEAHJ,cAII,KAAC,SAAD,EAEI,QAAQ,CAAE,kBAACC,CAAD,QAAKzC,CAAAA,WAAW,CAACyC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,EAFd,CAKI,KAAK,CAAE,GALX,CAMI,WAAW,CAAC,SANhB,CAOI,eAAe,CAAC,SAPpB,CAQI,SAAS,CAAC,4BARd,CASI,WAAW,CAAC,yDAThB,EAJJ,CAeKhD,SAAS,eAAI,UAAG,SAAS,CAAC,SAAb,0CAflB,CAgBKE,OAAO,eACJ,WAAG,SAAS,CAAC,UAAb,gDACyB,YAAK,GAAG,CAAE+C,SAAV,CAAqB,GAAG,CAAC,EAAzB,CAA4B,MAAM,CAAE,CAApC,EADzB,GAjBR,cAqBI,eACI,SAAS,CAAE/C,OAAO,CAAG,+BAAH,CAAqC,wBAD3D,CAEI,OAAO,CAAE,kBAAM,CACXI,aAAa,CAAC,EAAD,CAAb,CACH,CAJL,sBArBJ,GADJ,EAJJ,GApCJ,cA0EI,MAAC,MAAD,yBACI,YAAK,SAAS,CAAC,aAAf,uBACI,YAAK,GAAG,CAAEuC,SAAV,CAAqB,GAAG,CAAC,EAAzB,CAA4B,SAAS,CAAC,kBAAtC,CAAyD,MAAM,CAAC,IAAhE,CAAqE,KAAK,CAAC,KAA3E,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,aAAf,uBACI,MAAC,IAAD,EAAM,SAAS,CAAC,kBAAhB,wBACI,yCADJ,cAEI,6CAFJ,cAGI,UAAG,SAAS,CAAC,QAAb,kEAHJ,cAII,KAAC,SAAD,EAEI,QAAQ,CAAE,kBAACC,CAAD,QAAKzC,CAAAA,WAAW,CAACyC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,EAFd,CAKI,KAAK,CAAE,GALX,CAMI,WAAW,CAAC,SANhB,CAOI,eAAe,CAAC,SAPpB,CAQI,SAAS,CAAC,wBARd,CASI,WAAW,CAAC,6FAThB,EAJJ,CAeKhD,SAAS,eAAI,UAAG,SAAS,CAAC,SAAb,0CAflB,CAgBKE,OAAO,eACJ,WAAG,SAAS,CAAC,UAAb,gDACyB,YAAK,GAAG,CAAE+C,SAAV,CAAqB,GAAG,CAAC,EAAzB,CAA4B,MAAM,CAAE,CAApC,EADzB,GAjBR,cAqBI,eACI,SAAS,CAAE/C,OAAO,CAAG,2BAAH,CAAiC,oBADvD,CAEI,OAAO,CAAE,kBAAM,CACXI,aAAa,CAAC,EAAD,CAAb,CACH,CAJL,sBArBJ,GADJ,EAJJ,GA1EJ,GADJ,CAkHH,CAED,cAAeb,CAAAA,WAAf","sourcesContent":["import React,{useState} from \"react\";\r\nimport \"./Create_site.css\";\r\nimport deski_ash from \"../assets/deski_ash.svg\";\r\nimport { Pane, TextInput } from \"evergreen-ui\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport checkmark from \"../assets/checkmark.svg\";\r\n\r\nconst Desktop = ({ children }) => {\r\n    const isDesktop = useMediaQuery({ minWidth: 951 });\r\n    return isDesktop ? children : null;\r\n};\r\nconst Tablet = ({ children }) => {\r\n    const isTablet = useMediaQuery({ minWidth: 768, maxWidth: 950 });\r\n    return isTablet ? children : null;\r\n};\r\nconst Mobile = ({ children }) => {\r\n    const isMobile = useMediaQuery({ maxWidth: 767 });\r\n    return isMobile ? children : null;\r\n};\r\n\r\n\r\nfunction Create_site() {\r\n\r\n\r\n    const emaildata = JSON.stringify(localStorage.getItem('data'))\r\n    \r\n    let history = useHistory();\r\n    const [incorrect, SetIncorrect] = React.useState(false);\r\n    const [correct, SetCorrect] = React.useState(false);\r\n\r\n\r\n    \r\n    const [username, setUsername] = useState(\"\");\r\n\r\n\r\n\r\n\r\n\r\n    const CheckUsername = (props) => {\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n        \r\n        var urlencoded = new URLSearchParams();\r\n        urlencoded.append(\"username\", username);\r\n    \r\n        \r\n        var checkuserRequest = {\r\n          method: 'POST',\r\n          headers: myHeaders,\r\n          body: urlencoded,\r\n          redirect: 'follow'\r\n        };\r\n\r\n        fetch(\"http://18.116.203.74:6769/checkUsername\", checkuserRequest)\r\n      .then(response => {\r\n        if (response.ok){\r\n          response.json().then(json => {\r\n            console.log(json.message)\r\n            console.log(username)\r\n\r\n\r\n             if(parseInt(json.message) === 0 ){\r\n\r\n                 AddUsername();\r\n           }\r\n             else  if(parseInt(json.message) === 1) {\r\n\r\n                   SetIncorrect(true);\r\n                \r\n                }\r\n\r\n          })\r\n        }\r\n     \r\n        \r\n      })\r\n      .catch(error => console.log('error: ', error)\r\n   )\r\n\r\n}\r\n    \r\n\r\n    const AddUsername = (props) =>{\r\n\r\n\r\n        var dt = new Date().getTime();\r\n        var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n            var r = (dt + Math.random()*16)%16 | 0;\r\n            dt = Math.floor(dt/16);\r\n            return (c=='x' ? r :(r&0x3|0x8)).toString(16);\r\n        });\r\n\r\n\r\n        if (username === \"\" || username.length >7) {\r\n          \r\n            \r\n            } else {\r\n               \r\n                var urlencoded = new URLSearchParams();\r\n                urlencoded.append(\"firebaseUid\", uuid);\r\n                urlencoded.append(\"userId\", \"\");\r\n                urlencoded.append(\"username\", username);\r\n                urlencoded.append(\"emailId\", emaildata);\r\n                urlencoded.append(\"timeStamp\", new Date());\r\n\r\n                var myHeaders = new Headers();\r\n                myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n\r\n\r\n                var requestOptions = {\r\n                  method: 'POST',\r\n                  headers: myHeaders,\r\n                  body: urlencoded,\r\n                  redirect: 'follow' \r\n                };\r\n  \r\n             \r\n                \r\n                    fetch(\"http://18.116.203.74:6769/addUsername\", requestOptions)\r\n                    .then(response => {\r\n                      if (response.ok){\r\n                        response.json().then(json => {\r\n                            console.log(username) \r\n                           \r\n\r\n                          \r\n                                SetCorrect(true)\r\n                            \r\n\r\n                                setTimeout(function(){history.push(\"/setting_up\")},1000);\r\n                       \r\n                \r\n                        })\r\n                      }\r\n                    })\r\n                \r\n                    .catch(error => console.log('error: ', error))\r\n                \r\n               \r\n                }\r\n            }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Desktop>\r\n                <div className=\"create_site\">\r\n                    <img src={deski_ash} alt=\"\" className=\"create_site_logo\" height=\"80\" width=\"120\" />\r\n                </div>\r\n                <div className=\"create_site\">\r\n                    <Pane className=\"create_site_pane\">\r\n                        <h1>Let's get started</h1>\r\n                        <h4>Give your site a name</h4>\r\n                        <p className=\"choose\">Choose something familiar like your team and company</p>\r\n                        <TextInput\r\n                            width={322}\r\n                        \r\n                            onChange={(e)=>setUsername(e.target.value)}\r\n                            border=\"solid 1.5px #c5c5c5\"\r\n                            backgroundColor=\"#fafbfc\"\r\n                            className=\"create_site_inputfield\"\r\n                            placeholder=\"Your-site-name                                                                   .deski.app\"\r\n                        />\r\n                        {incorrect && <p className=\"invalid\">*The username already exists</p>}\r\n                        {correct && (\r\n                            <p className=\"invalid_\">\r\n                                * Username available <img src={checkmark} alt=\"\" height={9} />\r\n                            </p>\r\n                        )}\r\n                        <button\r\n                            className={(username === \"\") ? \"create_site_button\" : \"create_site_button_active\"}\r\n                            onClick={() => {\r\n                                CheckUsername(\"\");\r\n                            }}\r\n                        >\r\n                            Continue\r\n                        </button>\r\n                    </Pane>\r\n                </div>\r\n            </Desktop>\r\n            <Mobile>\r\n                <div className=\"create_site\">\r\n                    <img src={deski_ash} alt=\"\" className=\"create_site_logo\" height=\"80\" width=\"120\" />\r\n                </div>\r\n                <div className=\"create_site\">\r\n                    <Pane className=\"mob_create_site_pane\">\r\n                        <h1>Let's get started</h1>\r\n                        <h4>Give your site a name</h4>\r\n                        <p className=\"choose\">Choose something familiar like your team and company</p>\r\n                        <TextInput\r\n           \r\n                            onChange={(e)=>setUsername(e.target.value)}\r\n\r\n\r\n                            width={220}\r\n                            borderColor=\"#c5c5c5\"\r\n                            backgroundColor=\"#fafbfc\"\r\n                            className=\"mob_create_site_inputfield\"\r\n                            placeholder=\"Your-site-name                               .deski.app\"\r\n                        />\r\n                        {incorrect && <p className=\"invalid\">*The username already exists</p>}\r\n                        {correct && (\r\n                            <p className=\"invalid_\">\r\n                                * Username available <img src={checkmark} alt=\"\" height={9} />\r\n                            </p>\r\n                        )}\r\n                        <button\r\n                            className={correct ? \"mob_create_site_button_active\" : \"mob_create_site_button\"}\r\n                            onClick={() => {\r\n                                CheckUsername(\"\");\r\n                            }}\r\n\r\n                        >\r\n                            Continue\r\n                        </button>\r\n                    </Pane>\r\n                </div>\r\n            </Mobile>\r\n            <Tablet>\r\n                <div className=\"create_site\">\r\n                    <img src={deski_ash} alt=\"\" className=\"create_site_logo\" height=\"80\" width=\"120\" />\r\n                </div>\r\n                <div className=\"create_site\">\r\n                    <Pane className=\"create_site_pane\">\r\n                        <h1>Let's get started</h1>\r\n                        <h4>Give your site a name</h4>\r\n                        <p className=\"choose\">Choose something familiar like your team and company</p>\r\n                        <TextInput\r\n    \r\n                            onChange={(e)=>setUsername(e.target.value)}\r\n\r\n\r\n                            width={322}\r\n                            borderColor=\"#c5c5c5\"\r\n                            backgroundColor=\"#fafbfc\"\r\n                            className=\"create_site_inputfield\"\r\n                            placeholder=\"Your-site-name                                                                   .deski.app\"\r\n                        />\r\n                        {incorrect && <p className=\"invalid\">*The username already exists</p>}\r\n                        {correct && (\r\n                            <p className=\"invalid_\">\r\n                                * Username available <img src={checkmark} alt=\"\" height={9} />\r\n                            </p>\r\n                        )}\r\n                        <button\r\n                            className={correct ? \"create_site_button_active\" : \"create_site_button\"}\r\n                            onClick={() => {\r\n                                CheckUsername(\"\");\r\n                            }}\r\n                        >\r\n                            Continue\r\n                        </button>\r\n                    </Pane>\r\n                </div>\r\n            </Tablet>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Create_site;\r\n"]},"metadata":{},"sourceType":"module"}