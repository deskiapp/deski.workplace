{"ast":null,"code":"/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __decorate, __extends } from \"tslib\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2 } from \"@blueprintjs/core\";\nimport { Utils } from \"../common/index\";\nimport { Orientation, ResizeHandle } from \"./resizeHandle\"; // HACKHACK: https://github.com/palantir/blueprint/issues/4342\n// eslint-disable-next-line deprecation/deprecation\n\nvar Resizable = function (_super) {\n  __extends(Resizable, _super);\n\n  function Resizable() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = Resizable_1.getDerivedStateFromProps(_this.props, null);\n\n    _this.onResizeMove = function (_offset, delta) {\n      _this.offsetSize(delta);\n\n      if (_this.props.onSizeChanged != null) {\n        _this.props.onSizeChanged(_this.state.size);\n      }\n    };\n\n    _this.onResizeEnd = function (_offset) {\n      // reset \"unclamped\" size on end\n      _this.setState({\n        unclampedSize: _this.state.size\n      });\n\n      if (_this.props.onResizeEnd != null) {\n        _this.props.onResizeEnd(_this.state.size);\n      }\n    };\n\n    return _this;\n  }\n\n  Resizable_1 = Resizable;\n\n  Resizable.getDerivedStateFromProps = function (_a, prevState) {\n    var size = _a.size;\n\n    if (prevState == null) {\n      return {\n        size: size,\n        unclampedSize: size\n      };\n    }\n\n    return null;\n  };\n\n  Resizable.prototype.componentDidUpdate = function (prevProps) {\n    if (prevProps.size !== this.props.size) {\n      this.setState(Resizable_1.getDerivedStateFromProps(this.props, null));\n    }\n  };\n\n  Resizable.prototype.render = function () {\n    var child = React.Children.only(this.props.children);\n\n    var style = __assign(__assign({}, child.props.style), this.getStyle());\n\n    if (this.props.isResizable === false) {\n      return React.cloneElement(child, {\n        style: style\n      });\n    }\n\n    var resizeHandle = this.renderResizeHandle();\n    return React.cloneElement(child, {\n      style: style,\n      resizeHandle: resizeHandle\n    });\n  };\n\n  Resizable.prototype.renderResizeHandle = function () {\n    var _a = this.props,\n        onLayoutLock = _a.onLayoutLock,\n        onDoubleClick = _a.onDoubleClick,\n        orientation = _a.orientation;\n    return React.createElement(ResizeHandle, {\n      key: \"resize-handle\",\n      onDoubleClick: onDoubleClick,\n      onLayoutLock: onLayoutLock,\n      onResizeEnd: this.onResizeEnd,\n      onResizeMove: this.onResizeMove,\n      orientation: orientation\n    });\n  };\n  /**\n   * Returns the CSS style to apply to the child element given the state's\n   * size value.\n   */\n\n\n  Resizable.prototype.getStyle = function () {\n    if (this.props.orientation === Orientation.VERTICAL) {\n      return {\n        flexBasis: this.state.size + \"px\",\n        minWidth: \"0px\",\n        width: this.state.size + \"px\"\n      };\n    } else {\n      return {\n        flexBasis: this.state.size + \"px\",\n        height: this.state.size + \"px\",\n        minHeight: \"0px\"\n      };\n    }\n  };\n\n  Resizable.prototype.offsetSize = function (offset) {\n    var unclampedSize = this.state.unclampedSize + offset;\n    this.setState({\n      size: Utils.clamp(unclampedSize, this.props.minSize, this.props.maxSize),\n      unclampedSize: unclampedSize\n    });\n  };\n\n  var Resizable_1;\n  Resizable.defaultProps = {\n    isResizable: true,\n    minSize: 0\n  };\n  Resizable = Resizable_1 = __decorate([polyfill], Resizable);\n  return Resizable;\n}(AbstractPureComponent2);\n\nexport { Resizable };","map":{"version":3,"sources":["../../../src/interactions/resizable.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __decorate, __extends } from \"tslib\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2 } from \"@blueprintjs/core\";\nimport { Utils } from \"../common/index\";\nimport { Orientation, ResizeHandle } from \"./resizeHandle\";\n// HACKHACK: https://github.com/palantir/blueprint/issues/4342\n// eslint-disable-next-line deprecation/deprecation\nvar Resizable = /** @class */ (function (_super) {\n    __extends(Resizable, _super);\n    function Resizable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = Resizable_1.getDerivedStateFromProps(_this.props, null);\n        _this.onResizeMove = function (_offset, delta) {\n            _this.offsetSize(delta);\n            if (_this.props.onSizeChanged != null) {\n                _this.props.onSizeChanged(_this.state.size);\n            }\n        };\n        _this.onResizeEnd = function (_offset) {\n            // reset \"unclamped\" size on end\n            _this.setState({ unclampedSize: _this.state.size });\n            if (_this.props.onResizeEnd != null) {\n                _this.props.onResizeEnd(_this.state.size);\n            }\n        };\n        return _this;\n    }\n    Resizable_1 = Resizable;\n    Resizable.getDerivedStateFromProps = function (_a, prevState) {\n        var size = _a.size;\n        if (prevState == null) {\n            return {\n                size: size,\n                unclampedSize: size,\n            };\n        }\n        return null;\n    };\n    Resizable.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.size !== this.props.size) {\n            this.setState(Resizable_1.getDerivedStateFromProps(this.props, null));\n        }\n    };\n    Resizable.prototype.render = function () {\n        var child = React.Children.only(this.props.children);\n        var style = __assign(__assign({}, child.props.style), this.getStyle());\n        if (this.props.isResizable === false) {\n            return React.cloneElement(child, { style: style });\n        }\n        var resizeHandle = this.renderResizeHandle();\n        return React.cloneElement(child, { style: style, resizeHandle: resizeHandle });\n    };\n    Resizable.prototype.renderResizeHandle = function () {\n        var _a = this.props, onLayoutLock = _a.onLayoutLock, onDoubleClick = _a.onDoubleClick, orientation = _a.orientation;\n        return (React.createElement(ResizeHandle, { key: \"resize-handle\", onDoubleClick: onDoubleClick, onLayoutLock: onLayoutLock, onResizeEnd: this.onResizeEnd, onResizeMove: this.onResizeMove, orientation: orientation }));\n    };\n    /**\n     * Returns the CSS style to apply to the child element given the state's\n     * size value.\n     */\n    Resizable.prototype.getStyle = function () {\n        if (this.props.orientation === Orientation.VERTICAL) {\n            return {\n                flexBasis: this.state.size + \"px\",\n                minWidth: \"0px\",\n                width: this.state.size + \"px\",\n            };\n        }\n        else {\n            return {\n                flexBasis: this.state.size + \"px\",\n                height: this.state.size + \"px\",\n                minHeight: \"0px\",\n            };\n        }\n    };\n    Resizable.prototype.offsetSize = function (offset) {\n        var unclampedSize = this.state.unclampedSize + offset;\n        this.setState({\n            size: Utils.clamp(unclampedSize, this.props.minSize, this.props.maxSize),\n            unclampedSize: unclampedSize,\n        });\n    };\n    var Resizable_1;\n    Resizable.defaultProps = {\n        isResizable: true,\n        minSize: 0,\n    };\n    Resizable = Resizable_1 = __decorate([\n        polyfill\n    ], Resizable);\n    return Resizable;\n}(AbstractPureComponent2));\nexport { Resizable };\n//# sourceMappingURL=resizable.js.map"]},"metadata":{},"sourceType":"module"}