{"ast":null,"code":"import _regeneratorRuntime from\"E:/React Projects/deski-design/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/React Projects/deski-design/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/React Projects/deski-design/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./Signup.css\";import axios from'axios';import path from\"../assets/path.svg\";import eye from\"../assets/eye.svg\";import deski_white from\"../assets/deski_white.svg\";import google_text from\"../assets/google_text.svg\";import{Pane,TextInput,toaster}from\"evergreen-ui\";import{useHistory}from\"react-router-dom\";import{useMediaQuery}from\"react-responsive\";import firebase from\"../services/firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var auth=firebase.auth();var Desktop=function Desktop(_ref){var children=_ref.children;var isDesktop=useMediaQuery({minWidth:951});return isDesktop?children:null;};var Tablet=function Tablet(_ref2){var children=_ref2.children;var isTablet=useMediaQuery({minWidth:768,maxWidth:950});return isTablet?children:null;};var Mobile=function Mobile(_ref3){var children=_ref3.children;var isMobile=useMediaQuery({maxWidth:767});return isMobile?children:null;};function Signup(){var _useState=useState({ip:\"\",latitude:\"\",longitude:\"\"}),_useState2=_slicedToArray(_useState,2),getDetails=_useState2[0],setGetDetails=_useState2[1];var getData=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://geolocation-db.com/json/');case 2:res=_context.sent;console.log(res.data);setGetDetails({ip:res.data.IPv4,latitude:res.data.latitude,longitude:res.data.longitude});case 5:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref4.apply(this,arguments);};}();useEffect(function(){getData();},[]);var history=useHistory();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),incorrect=_React$useState2[0],SetIncorrect=_React$useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),passwordShown=_useState4[0],setPasswordShown=_useState4[1];var togglePasswordVisiblity=function togglePasswordVisiblity(){setPasswordShown(passwordShown?false:true);};var _useState5=useState({workEmail:\"\",password:\"\",firstName:\"\",lastName:\"\"}),_useState6=_slicedToArray(_useState5,2),signupData=_useState6[0],setSignUpData=_useState6[1];var handleChangeInput=function handleChangeInput(props){return function(e){if(props===\"wMail\"){setSignUpData({workEmail:e.target.value,password:signupData.password,firstName:signupData.firstName,lastName:signupData.lastName});}else if(props===\"fName\"){setSignUpData({workEmail:signupData.workEmail,password:signupData.password,firstName:e.target.value,lastName:signupData.lastName});}else if(props===\"lName\"){setSignUpData({workEmail:signupData.workEmail,password:signupData.password,firstName:signupData.firstName,lastName:e.target.value});}else if(props===\"password\"){setSignUpData({workEmail:signupData.workEmail,password:e.target.value,firstName:signupData.firstName,lastName:signupData.lastName});}};};var emailValidaton=function emailValidaton(props){var regex=/^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;if(!props||regex.test(props)===false){return false;}return true;};// function address(json) {\n// }\nvar signup=function signup(props){if(emailValidaton(signupData.workEmail)){if(signupData.firstName.length>7||signupData.firstName===\"\"){// alert(\"Empty first name\");\n}else if(signupData.lastName.length>7||signupData.lastName===\"\"){// alert(\"Empty last name\");\n}else if(signupData.password.length>16||signupData.password===\"\"){// alert(\"Empty password\");\n}else{var details={firebaseUid:\"\",email:signupData.workEmail,type:\"1\",displayName:signupData.firstName,lastName:signupData.lastName,password:signupData.password,// userGeolocation: +\"latitude:\"+ getDetails.latitude +\"longitude :\"+ getDetails.longitude,\nuserIp:\"gugyky\",userLocation:\"userlocation\"// date: new Date(),\n};var formBody=[];for(var property in details){var encodedKey=encodeURIComponent(property);var encodedValue=encodeURIComponent(details[property]);formBody.push(encodedKey+\"=\"+encodedValue);}formBody=formBody.join(\"&\");var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/x-www-form-urlencoded\");var requestOptions={method:'POST',headers:myHeaders,body:formBody,redirect:'follow'};fetch(\"http://18.116.203.74:6769/signup\",requestOptions).then(function(response){if(response.ok){response.json().then(function(json){console.log(signupData.firstName+\" \"+signupData.lastName);console.log(signupData.workEmail+\" \"+signupData.password);console.log(getDetails.ip);console.log(getDetails.latitude);console.log(getDetails.longitude);history.push(\"/email_verification\");});}}).catch(function(error){return console.log('error: ',error);});}}else{// alert(\"not a valid email\");\n}};var handleSignup=function handleSignup(props){var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/x-www-form-urlencoded\");var urlencoded=new URLSearchParams();urlencoded.append(\"email\",signupData.workEmail);var checkuserRequest={method:'POST',headers:myHeaders,body:urlencoded,redirect:'follow'};fetch(\"http://18.116.203.74:6769/checkUser\",checkuserRequest).then(function(response){if(response.ok){response.json().then(function(json){console.log(json.message);console.log(signupData.workEmail);if(parseInt(json.message)===0){signup();}else if(parseInt(json.message)===1){SetIncorrect(true);}});}}).catch(function(error){return console.log('error: ',error);});};var handleSignupWithGmail=function handleSignupWithGmail(props){var googleProvider=new firebase.auth.GoogleAuthProvider();auth.signInWithPopup(googleProvider).then(function(res){console.log(res.user);var displayName=res.user.displayName;var email=res.user.email;var firebaseUid=res.user.uid;console.log(displayName+\" --- \"+email+\" --- \"+firebaseUid);var details={firebaseUid:firebaseUid,email:email,type:\"0\",displayName:displayName};var formBody=[];for(var property in details){var encodedKey=encodeURIComponent(property);var encodedValue=encodeURIComponent(details[property]);formBody.push(encodedKey+\"=\"+encodedValue);}formBody=formBody.join(\"&\");fetch('http://18.116.203.74:6769/signup',{method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded;charset=UTF-8'},body:formBody}).then(function(response){console.log(response);history.push(\"/email_verification\");});}).catch(function(error){console.log(error.message);});};React.useState(function(){});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Desktop,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"su\",children:[/*#__PURE__*/_jsx(\"img\",{src:path,alt:\"\",className:\"path\"}),/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:deski_white,alt:\"\",height:\"80\",width:\"120\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"signup\",children:/*#__PURE__*/_jsxs(Pane,{className:\"signup_pane\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Get Started\"}),/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:\"Start your free account\"}),incorrect&&/*#__PURE__*/_jsx(\"p\",{className:\"invalid\",children:\"*Already exists an account registered with this email address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"get_started\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"Work Email\"}),/*#__PURE__*/_jsx(TextInput,{width:300,borderRadius:2,borderColor:\"#c5c5c5\",onChange:handleChangeInput(\"wMail\")}),/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"Password\"}),/*#__PURE__*/_jsx(TextInput,{width:300,borderColor:\"#c5c5c5\",borderRadius:2,type:passwordShown?\"text\":\"password\",onChange:handleChangeInput(\"password\")}),/*#__PURE__*/_jsx(\"div\",{className:\"eye\",children:/*#__PURE__*/_jsx(\"img\",{src:eye,alt:\"\",onClick:togglePasswordVisiblity,width:\"12\",height:\"12\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"name\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"First Name:\"}),/*#__PURE__*/_jsx(TextInput,{width:140,borderRadius:2,borderColor:\"#c5c5c5\",onChange:handleChangeInput(\"fName\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline_text\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"Last Name:\"}),/*#__PURE__*/_jsx(TextInput,{width:140,borderRadius:2,borderColor:\"#c5c5c5\",onChange:handleChangeInput(\"lName\")})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"content\",children:[\"By clicking below, you agree to the deski Cloud\",/*#__PURE__*/_jsx(\"a\",{href:\"https://deski-c8e53.web.app/termsofservice\",target:\"_blank\",rel:\"noreferrer\",className:\"signup_link\",children:\"Terms of Service\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"content content_\",children:[\"and\",/*#__PURE__*/_jsx(\"a\",{href:\"https://deski-c8e53.web.app/privacypolicy\",target:\"_blank\",className:\"signup_link\",rel:\"noreferrer\",children:\"Privacy Policy\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"signup_continue\",onClick:function onClick(){handleSignup(\"\");},children:\"Continue\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"or\",children:\"OR\"}),/*#__PURE__*/_jsx(\"button\",{className:\"signup_btn\",onClick:function onClick(){handleSignupWithGmail(\"\");},children:/*#__PURE__*/_jsx(\"img\",{src:google_text,alt:\"\",height:\"16\",width:\"250\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"last\",children:\"NO CREDIT CARD REQUIRED\"})]})})]})}),/*#__PURE__*/_jsx(Mobile,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"su\",children:[/*#__PURE__*/_jsx(\"img\",{src:path,alt:\"\",className:\"path\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mob_logo\",children:/*#__PURE__*/_jsx(\"img\",{src:deski_white,alt:\"\",height:\"40\",width:\"70\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"signup\",children:/*#__PURE__*/_jsxs(Pane,{className:\"mob_signup_pane\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Get Started\"}),/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:\"Start your free account\"}),incorrect&&/*#__PURE__*/_jsx(\"p\",{className:\"invalid\",children:\"*Already exists an account registered with this email address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"get_started\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"Work Email\"}),/*#__PURE__*/_jsx(TextInput,{width:200,borderRadius:2,borderColor:\"#c5c5c5\",onChange:handleChangeInput(\"wMail\")}),/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"Password\"}),/*#__PURE__*/_jsx(TextInput,{width:200,borderColor:\"#c5c5c5\",borderRadius:2,type:passwordShown?\"text\":\"password\",onChange:handleChangeInput(\"password\")}),/*#__PURE__*/_jsx(\"div\",{className:\"eye\",children:/*#__PURE__*/_jsx(\"img\",{src:eye,alt:\"\",onClick:togglePasswordVisiblity,width:\"12\",height:\"12\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"name\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"First Name:\"}),/*#__PURE__*/_jsx(TextInput,{width:200,borderRadius:2,borderColor:\"#c5c5c5\",onChange:handleChangeInput(\"fName\")}),/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"Last Name:\"}),/*#__PURE__*/_jsx(TextInput,{width:200,borderRadius:2,borderColor:\"#c5c5c5\",onChange:handleChangeInput(\"lName\")})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"content\",children:[\"By clicking below, you agree to the deski Cloud\",/*#__PURE__*/_jsx(\"a\",{href:\"https://deski-c8e53.web.app/termsofservice\",target:\"_blank\",rel:\"noreferrer\",className:\"signup_link\",children:\"Terms of Service\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"content content_\",children:[\"and\",/*#__PURE__*/_jsx(\"a\",{href:\"https://deski-c8e53.web.app/privacypolicy\",target:\"_blank\",rel:\"noreferrer\",className:\"signup_link\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"mob_signup_continue\",onClick:function onClick(){handleSignup(\"\");},children:\"Continue\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"or\",children:\"OR\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mob_signup_btn\",onClick:function onClick(){handleSignupWithGmail(\"\");},children:/*#__PURE__*/_jsx(\"img\",{src:google_text,alt:\"\",height:\"13\",width:\"150\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"last\",children:\"NO CREDIT CARD REQUIRED\"})]})})]})}),/*#__PURE__*/_jsx(Tablet,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"su\",children:[/*#__PURE__*/_jsx(\"img\",{src:path,alt:\"\",className:\"path\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tab_logo\",children:/*#__PURE__*/_jsx(\"img\",{src:deski_white,alt:\"\",height:\"80\",width:\"120\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"signup\",children:/*#__PURE__*/_jsxs(Pane,{className:\"signup_pane\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Get Started\"}),/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:\"Start your free account\"}),incorrect&&/*#__PURE__*/_jsx(\"p\",{className:\"invalid\",children:\"*Already exists an account registered with this email address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"get_started\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"Work Email\"}),/*#__PURE__*/_jsx(TextInput,{width:300,borderRadius:2,borderColor:\"#c5c5c5\",onChange:handleChangeInput(\"wMail\")}),/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"Password\"}),/*#__PURE__*/_jsx(TextInput,{width:300,borderColor:\"#c5c5c5\",borderRadius:2,type:passwordShown?\"text\":\"password\",onChange:handleChangeInput(\"password\")}),/*#__PURE__*/_jsx(\"div\",{className:\"eye\",children:/*#__PURE__*/_jsx(\"img\",{src:eye,alt:\"\",onClick:togglePasswordVisiblity,width:\"12\",height:\"12\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"name\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"First Name:\"}),/*#__PURE__*/_jsx(TextInput,{width:140,borderRadius:2,borderColor:\"#c5c5c5\",onChange:handleChangeInput(\"fName\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline_text\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"required\",children:\"Last Name:\"}),/*#__PURE__*/_jsx(TextInput,{width:140,borderRadius:2,borderColor:\"#c5c5c5\",onChange:handleChangeInput(\"lName\")})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"content\",children:[\"By clicking below, you agree to the deski Cloud\",/*#__PURE__*/_jsx(\"a\",{href:\"https://deski-c8e53.web.app/termsofservice\",target:\"_blank\",rel:\"noreferrer\",className:\"signup_link\",children:\"Terms of Service\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"content content_\",children:[\"and\",/*#__PURE__*/_jsx(\"a\",{href:\"https://deski-c8e53.web.app/privacypolicy\",target:\"_blank\",rel:\"noreferrer\",className:\"signup_link\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"signup_continue\",onClick:function onClick(){handleSignup(\"\");},children:\"Continue\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"or\",children:\"OR\"}),/*#__PURE__*/_jsx(\"button\",{className:\"signup_btn\",onClick:function onClick(){handleSignupWithGmail(\"\");},children:/*#__PURE__*/_jsx(\"img\",{src:google_text,alt:\"\",height:\"16\",width:\"250\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"last\",children:\"NO CREDIT CARD REQUIRED\"})]})})]})})]});}export default Signup;","map":{"version":3,"sources":["E:/React Projects/deski-design/src/Authentication/Signup.js"],"names":["React","useState","useEffect","axios","Pane","TextInput","toaster","useHistory","useMediaQuery","firebase","auth","Desktop","children","isDesktop","minWidth","Tablet","isTablet","maxWidth","Mobile","isMobile","Signup","ip","latitude","longitude","getDetails","setGetDetails","getData","get","res","console","log","data","IPv4","history","incorrect","SetIncorrect","passwordShown","setPasswordShown","togglePasswordVisiblity","workEmail","password","firstName","lastName","signupData","setSignUpData","handleChangeInput","props","e","target","value","emailValidaton","regex","test","signup","length","details","firebaseUid","email","type","displayName","userIp","userLocation","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","join","myHeaders","Headers","append","requestOptions","method","headers","body","redirect","fetch","then","response","ok","json","catch","error","handleSignup","urlencoded","URLSearchParams","checkuserRequest","message","parseInt","handleSignupWithGmail","googleProvider","GoogleAuthProvider","signInWithPopup","user","uid","path","deski_white","eye","google_text"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./Signup.css\";\r\nimport axios from 'axios'\r\nimport path from \"../assets/path.svg\";\r\nimport eye from \"../assets/eye.svg\";\r\nimport deski_white from \"../assets/deski_white.svg\";\r\nimport google_text from \"../assets/google_text.svg\";\r\nimport { Pane, TextInput, toaster } from \"evergreen-ui\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\n\r\nimport firebase from \"../services/firebase\";\r\n\r\n\r\nconst auth = firebase.auth();\r\n\r\nconst Desktop = ({ children }) => {\r\n    const isDesktop = useMediaQuery({ minWidth: 951 });\r\n    return isDesktop ? children : null;\r\n};\r\nconst Tablet = ({ children }) => {\r\n    const isTablet = useMediaQuery({ minWidth: 768, maxWidth: 950 });\r\n    return isTablet ? children : null;\r\n};\r\nconst Mobile = ({ children }) => {\r\n    const isMobile = useMediaQuery({ maxWidth: 767 });\r\n    return isMobile ? children : null;\r\n};\r\n\r\nfunction Signup() {\r\n   \r\n  const [getDetails, setGetDetails] = useState({\r\n    ip: \"\",\r\n    latitude: \"\",\r\n    longitude: \"\",\r\n});\r\n\r\n\r\n  const getData = async () => {\r\n    const res = await axios.get('https://geolocation-db.com/json/')\r\n    console.log(res.data);\r\n    setGetDetails({\r\n        ip: res.data.IPv4,\r\n        latitude: res.data.latitude,\r\n        longitude:res.data.longitude,\r\n       \r\n    });\r\n\r\n\r\n  }\r\n  \r\n  useEffect( () => {\r\n    \r\n    getData()\r\n\r\n  }, [])\r\n   \r\n\r\n    let history = useHistory();\r\n    const [incorrect, SetIncorrect] = React.useState(false);\r\n\r\n    const [passwordShown, setPasswordShown] = useState(false);\r\n    const togglePasswordVisiblity = () => {\r\n        setPasswordShown(passwordShown ? false : true);\r\n    };\r\n\r\n    const [signupData, setSignUpData] = useState({\r\n        workEmail: \"\",\r\n        password: \"\",\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n    });\r\n\r\n\r\n  \r\n\r\n    const handleChangeInput = (props) => (e) => {\r\n        if (props === \"wMail\") {\r\n            setSignUpData({\r\n                workEmail: e.target.value,\r\n                password: signupData.password,\r\n                firstName: signupData.firstName,\r\n                lastName: signupData.lastName,\r\n            });\r\n        } else if (props === \"fName\") {\r\n            setSignUpData({\r\n                workEmail: signupData.workEmail,\r\n                password: signupData.password,\r\n                firstName: e.target.value,\r\n                lastName: signupData.lastName,\r\n            });\r\n        } else if (props === \"lName\") {\r\n            setSignUpData({\r\n                workEmail: signupData.workEmail,\r\n                password: signupData.password,\r\n                firstName: signupData.firstName,\r\n                lastName: e.target.value,\r\n            });\r\n        } else if (props === \"password\") {\r\n            setSignUpData({\r\n                workEmail: signupData.workEmail,\r\n                password: e.target.value,\r\n                firstName: signupData.firstName,\r\n                lastName: signupData.lastName,\r\n            });\r\n        }\r\n    };\r\n\r\n    const emailValidaton = (props) => {\r\n        const regex =\r\n            /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\r\n        if (!props || regex.test(props) === false) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    // function address(json) {\r\n        \r\n       \r\n    // }\r\n    const signup = (props) =>{\r\n\r\n  \r\n\r\n        if (emailValidaton(signupData.workEmail)) {\r\n            if (signupData.firstName.length >7 || signupData.firstName === \"\") {\r\n                // alert(\"Empty first name\");\r\n            } else if (signupData.lastName.length >7 || signupData.lastName === \"\") {\r\n                // alert(\"Empty last name\");\r\n            } else if (signupData.password.length >16 || signupData.password === \"\") {\r\n                // alert(\"Empty password\");\r\n            } else {\r\n               \r\n                var details = {\r\n                    firebaseUid: \"\",\r\n                    email: signupData.workEmail,\r\n                    type: \"1\",\r\n                    displayName: signupData.firstName,\r\n                    lastName: signupData.lastName,\r\n                    password: signupData.password,                \r\n                    // userGeolocation: +\"latitude:\"+ getDetails.latitude +\"longitude :\"+ getDetails.longitude,\r\n                    userIp: \"gugyky\",\r\n                 \r\n                    userLocation: \"userlocation\",\r\n                    // date: new Date(),\r\n\r\n                   \r\n                };\r\n \r\n               \r\n                var formBody = [];\r\n                for (var property in details) {\r\n                    var encodedKey = encodeURIComponent(property);\r\n                    var encodedValue = encodeURIComponent(details[property]);\r\n                    formBody.push(encodedKey + \"=\" + encodedValue);\r\n                }\r\n                formBody = formBody.join(\"&\");\r\n                \r\n                var myHeaders = new Headers();\r\n                myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n                \r\n                var requestOptions = {\r\n                    method: 'POST',\r\n                    headers: myHeaders,\r\n                    body: formBody,\r\n                    redirect: 'follow'\r\n                  };\r\n                \r\n                \r\n                \r\n                    fetch(\"http://18.116.203.74:6769/signup\", requestOptions)\r\n                    .then(response => {\r\n                      if (response.ok){\r\n                        response.json().then(json => {\r\n                          console.log(signupData.firstName+\" \"+signupData.lastName)\r\n                          console.log(signupData.workEmail+\" \"+signupData.password)\r\n                          console.log(getDetails.ip)\r\n                          console.log(getDetails.latitude)\r\n                          console.log(getDetails.longitude)\r\n                          \r\n                               history.push(\"/email_verification\")\r\n                \r\n                        })\r\n                      }\r\n                    })\r\n                \r\n                    .catch(error => console.log('error: ', error))\r\n                \r\n               \r\n                }}else {\r\n            // alert(\"not a valid email\");\r\n        }\r\n    }\r\n    \r\n    const handleSignup = (props) => {\r\n        \r\n               \r\n          \r\n\r\n                    var myHeaders = new Headers();\r\n                    myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n                    \r\n                    var urlencoded = new URLSearchParams();\r\n                    urlencoded.append(\"email\", signupData.workEmail);\r\n                \r\n                    \r\n                    var checkuserRequest = {\r\n                      method: 'POST',\r\n                      headers: myHeaders,\r\n                      body: urlencoded,\r\n                      redirect: 'follow'\r\n                    };\r\n\r\n                    fetch(\"http://18.116.203.74:6769/checkUser\", checkuserRequest)\r\n                  .then(response => {\r\n                    if (response.ok){\r\n                      response.json().then(json => {\r\n                        console.log(json.message)\r\n                        console.log(signupData.workEmail)\r\n\r\n       \r\n\r\n                         if(parseInt(json.message) === 0 ){\r\n\r\n                            signup();\r\n                       }\r\n                         else  if(parseInt(json.message) === 1) {\r\n\r\n                               SetIncorrect(true);\r\n                            \r\n                            }\r\n\r\n                      })\r\n                    }\r\n                 \r\n                    \r\n                  })\r\n                  .catch(error => console.log('error: ', error)\r\n               )\r\n      \r\n    }\r\n    const handleSignupWithGmail = (props) => {\r\n        const googleProvider = new firebase.auth.GoogleAuthProvider();\r\n        auth.signInWithPopup(googleProvider)\r\n            .then((res) => {\r\n                console.log(res.user);\r\n\r\n                var displayName = res.user.displayName;\r\n                var email = res.user.email;\r\n                var firebaseUid = res.user.uid;\r\n                console.log(displayName + \" --- \" + email + \" --- \" + firebaseUid);\r\n\r\n                var details = {\r\n                    firebaseUid: firebaseUid,\r\n                    email: email,\r\n                    type: \"0\",\r\n                    displayName: displayName,\r\n                };\r\n\r\n                var formBody = [];\r\n                for (var property in details) {\r\n                    var encodedKey = encodeURIComponent(property);\r\n                    var encodedValue = encodeURIComponent(details[property]);\r\n                    formBody.push(encodedKey + \"=\" + encodedValue);\r\n                }\r\n                formBody = formBody.join(\"&\");\r\n\r\n                fetch('http://18.116.203.74:6769/signup', {\r\n                    method: 'POST',\r\n                \r\n                    headers: {\r\n                      'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\r\n                    },\r\n                    body: formBody\r\n                  }).then((response)=>{\r\n                        \r\n          \r\n                        console.log(response)\r\n                        history.push(\"/email_verification\")\r\n                  })\r\n          \r\n                 \r\n          \r\n                  \r\n          \r\n          \r\n          \r\n                }).catch((error) => {\r\n                  console.log(error.message)\r\n                })\r\n          \r\n          \r\n            }\r\n        \r\n    React.useState(() => {});\r\n\r\n    return (\r\n        <div>\r\n            <Desktop>\r\n                <div className=\"su\">\r\n                    <img src={path} alt=\"\" className=\"path\" />\r\n                    <div className=\"logo\">\r\n                        <img src={deski_white} alt=\"\" height=\"80\" width=\"120\" />\r\n                    </div>\r\n                    <div className=\"signup\">\r\n                        <Pane className=\"signup_pane\">\r\n                            <h1>Get Started</h1>\r\n                            <p className=\"title\">Start your free account</p>\r\n                            {incorrect && (\r\n                                <p className=\"invalid\">*Already exists an account registered with this email address</p>\r\n                            )}\r\n                            <div className=\"get_started\">\r\n                                <p className=\"required\">Work Email</p>\r\n                                <TextInput\r\n                                 \r\n                                    width={300}\r\n                                    borderRadius={2}\r\n                                    borderColor=\"#c5c5c5\"\r\n                                    onChange={handleChangeInput(\"wMail\")}\r\n                                />\r\n                                <p className=\"required\">Password</p>\r\n                                <TextInput\r\n                                    width={300}\r\n                                    borderColor=\"#c5c5c5\"\r\n                                    borderRadius={2}\r\n                                    type={passwordShown ? \"text\" : \"password\"}\r\n                                    onChange={handleChangeInput(\"password\")}\r\n                                />\r\n                                <div className=\"eye\">\r\n                                    <img src={eye} alt=\"\" onClick={togglePasswordVisiblity} width=\"12\" height=\"12\" />\r\n                                </div>\r\n                                <div className=\"name\">\r\n                                    <p className=\"required\">First Name:</p>\r\n                                    <TextInput\r\n                                        width={140}\r\n                                        borderRadius={2}\r\n                                        borderColor=\"#c5c5c5\"\r\n                                        onChange={handleChangeInput(\"fName\")}\r\n                                    />\r\n                                    <div className=\"inline_text\">\r\n                                        <p className=\"required\">Last Name:</p>\r\n                                        <TextInput\r\n                                            width={140}\r\n                                            borderRadius={2}\r\n                                            borderColor=\"#c5c5c5\"\r\n                                            onChange={handleChangeInput(\"lName\")}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <p className=\"content\">\r\n                                    By clicking below, you agree to the deski Cloud\r\n                                    <a\r\n                                        href=\"https://deski-c8e53.web.app/termsofservice\"\r\n                                        target=\"_blank\"\r\n                                        rel=\"noreferrer\"\r\n                                        className=\"signup_link\"\r\n                                    >\r\n                                        Terms of Service\r\n                                    </a>\r\n                                </p>\r\n                                <p className=\"content content_\">\r\n                                    and\r\n                                    <a\r\n                                        href=\"https://deski-c8e53.web.app/privacypolicy\"\r\n                                        target=\"_blank\"\r\n                                        className=\"signup_link\"\r\n                                        rel=\"noreferrer\"\r\n                                    >\r\n                                        Privacy Policy\r\n                                    </a>\r\n                                </p>\r\n                                <button\r\n                                    className=\"signup_continue\"\r\n                                    onClick={() => {\r\n                                        handleSignup(\"\");\r\n                                    }}\r\n                                >\r\n                                    Continue\r\n                                </button>\r\n                            </div>\r\n                            <p className=\"or\">OR</p>\r\n\r\n                            <button\r\n                                className=\"signup_btn\"\r\n                                onClick={() => {\r\n                                    handleSignupWithGmail(\"\");\r\n                                }}\r\n                            >\r\n                                <img src={google_text} alt=\"\" height=\"16\" width=\"250\" />\r\n                            </button>\r\n\r\n                            <p className=\"last\">NO CREDIT CARD REQUIRED</p>\r\n                        </Pane>\r\n                    </div>\r\n                </div>\r\n            </Desktop>\r\n            <Mobile>\r\n                <div className=\"su\">\r\n                    <img src={path} alt=\"\" className=\"path\" />\r\n                    <div className=\"mob_logo\">\r\n                        <img src={deski_white} alt=\"\" height=\"40\" width=\"70\" />\r\n                    </div>\r\n                    <div className=\"signup\">\r\n                        <Pane className=\"mob_signup_pane\">\r\n                            <h1>Get Started</h1>\r\n                            <p className=\"title\">Start your free account</p>\r\n                            {incorrect && (\r\n                                <p className=\"invalid\">*Already exists an account registered with this email address</p>\r\n                            )}\r\n                            <div className=\"get_started\">\r\n                                <p className=\"required\">Work Email</p>\r\n                                <TextInput\r\n                                    width={200}\r\n                                    \r\n                                    borderRadius={2}\r\n                                    borderColor=\"#c5c5c5\"\r\n                                    onChange={handleChangeInput(\"wMail\")}\r\n                                />\r\n                                <p className=\"required\">Password</p>\r\n                                <TextInput\r\n                                    width={200}\r\n                                    borderColor=\"#c5c5c5\"\r\n                                    borderRadius={2}\r\n                                    type={passwordShown ? \"text\" : \"password\"}\r\n                                    onChange={handleChangeInput(\"password\")}\r\n                                />\r\n                                <div className=\"eye\">\r\n                                    <img src={eye} alt=\"\" onClick={togglePasswordVisiblity} width=\"12\" height=\"12\" />\r\n                                </div>\r\n                                <div className=\"name\">\r\n                                    <p className=\"required\">First Name:</p>\r\n                                    <TextInput\r\n                                        width={200}\r\n                                        borderRadius={2}\r\n                                        borderColor=\"#c5c5c5\"\r\n                                        onChange={handleChangeInput(\"fName\")}\r\n                                    />\r\n\r\n                                    <p className=\"required\">Last Name:</p>\r\n                                    <TextInput\r\n                                        width={200}\r\n                                        borderRadius={2}\r\n                                        borderColor=\"#c5c5c5\"\r\n                                        onChange={handleChangeInput(\"lName\")}\r\n                                    />\r\n                                </div>\r\n                                <p className=\"content\">\r\n                                    By clicking below, you agree to the deski Cloud\r\n                                    <a\r\n                                        href=\"https://deski-c8e53.web.app/termsofservice\"\r\n                                        target=\"_blank\"\r\n                                        rel=\"noreferrer\"\r\n                                        className=\"signup_link\"\r\n                                    >\r\n                                        Terms of Service\r\n                                    </a>\r\n                                </p>\r\n                                <p className=\"content content_\">\r\n                                    and\r\n                                    <a\r\n                                        href=\"https://deski-c8e53.web.app/privacypolicy\"\r\n                                        target=\"_blank\"\r\n                                        rel=\"noreferrer\"\r\n                                        className=\"signup_link\"\r\n                                    ></a>\r\n                                </p>\r\n                                <button\r\n                                    className=\"mob_signup_continue\"\r\n                                    onClick={() => {\r\n                                        handleSignup(\"\");\r\n                                    }}\r\n                                >\r\n                                    Continue\r\n                                </button>\r\n                            </div>\r\n                            <p className=\"or\">OR</p>\r\n\r\n                            <button\r\n                                className=\"mob_signup_btn\"\r\n                                onClick={() => {\r\n                                    handleSignupWithGmail(\"\");\r\n                                }}\r\n                            >\r\n                                <img src={google_text} alt=\"\" height=\"13\" width=\"150\" />\r\n                            </button>\r\n\r\n                            <p className=\"last\">NO CREDIT CARD REQUIRED</p>\r\n                        </Pane>\r\n                    </div>\r\n                </div>\r\n            </Mobile>\r\n            <Tablet>\r\n                <div className=\"su\">\r\n                    <img src={path} alt=\"\" className=\"path\" />\r\n                    <div className=\"tab_logo\">\r\n                        <img src={deski_white} alt=\"\" height=\"80\" width=\"120\" />\r\n                    </div>\r\n                    <div className=\"signup\">\r\n                        <Pane className=\"signup_pane\">\r\n                            <h1>Get Started</h1>\r\n                            <p className=\"title\">Start your free account</p>\r\n                            {incorrect && (\r\n                                <p className=\"invalid\">*Already exists an account registered with this email address</p>\r\n                            )}\r\n                            <div className=\"get_started\">\r\n                                <p className=\"required\">Work Email</p>\r\n                                <TextInput\r\n                                    width={300}\r\n                                 \r\n                                    borderRadius={2}\r\n                                    borderColor=\"#c5c5c5\"\r\n                                    onChange={handleChangeInput(\"wMail\")}\r\n                                />\r\n                                <p className=\"required\">Password</p>\r\n                                <TextInput\r\n                                    width={300}\r\n                                    borderColor=\"#c5c5c5\"\r\n                                    borderRadius={2}\r\n                                    type={passwordShown ? \"text\" : \"password\"}\r\n                                    onChange={handleChangeInput(\"password\")}\r\n                                />\r\n                                <div className=\"eye\">\r\n                                    <img src={eye} alt=\"\" onClick={togglePasswordVisiblity} width=\"12\" height=\"12\" />\r\n                                </div>\r\n                                <div className=\"name\">\r\n                                    <p className=\"required\">First Name:</p>\r\n                                    <TextInput\r\n                                        width={140}\r\n                                        borderRadius={2}\r\n                                        borderColor=\"#c5c5c5\"\r\n                                        onChange={handleChangeInput(\"fName\")}\r\n                                    />\r\n                                    <div className=\"inline_text\">\r\n                                        <p className=\"required\">Last Name:</p>\r\n                                        <TextInput\r\n                                            width={140}\r\n                                            borderRadius={2}\r\n                                            borderColor=\"#c5c5c5\"\r\n                                            onChange={handleChangeInput(\"lName\")}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <p className=\"content\">\r\n                                    By clicking below, you agree to the deski Cloud\r\n                                    <a\r\n                                        href=\"https://deski-c8e53.web.app/termsofservice\"\r\n                                        target=\"_blank\"\r\n                                        rel=\"noreferrer\"\r\n                                        className=\"signup_link\"\r\n                                    >\r\n                                        Terms of Service\r\n                                    </a>\r\n                                </p>\r\n                                <p className=\"content content_\">\r\n                                    and\r\n                                    <a\r\n                                        href=\"https://deski-c8e53.web.app/privacypolicy\"\r\n                                        target=\"_blank\"\r\n                                        rel=\"noreferrer\"\r\n                                        className=\"signup_link\"\r\n                                    ></a>\r\n                                </p>\r\n                                <button\r\n                                    className=\"signup_continue\"\r\n                                    onClick={() => {\r\n                                        handleSignup(\"\");\r\n                                    }}\r\n                                >\r\n                                    Continue\r\n                                </button>\r\n                            </div>\r\n                            <p className=\"or\">OR</p>\r\n\r\n                            <button\r\n                                className=\"signup_btn\"\r\n                                onClick={() => {\r\n                                    handleSignupWithGmail(\"\");\r\n                                }}\r\n                            >\r\n                                <img src={google_text} alt=\"\" height=\"16\" width=\"250\" />\r\n                            </button>\r\n\r\n                            <p className=\"last\">NO CREDIT CARD REQUIRED</p>\r\n                        </Pane>\r\n                    </div>\r\n                </div>\r\n            </Tablet>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Signup;\r\n"]},"metadata":{},"sourceType":"module"}